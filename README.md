# WEB SERVER (Based on Ngnix)

Author: Alex Ponomarev

Langs: C++, C, CMake

## Описание

Прокси-сервер написан и протестирован под Mac OS HighSiera. Реализован реальный демон, который управляется средставами команд **sudo ./wserver start** и **sudo ./wserver stop**. Запуск под **sudo** обязателен. В то время как процесс, который будет исполнять код сервера, не имеет прав **sudo**.

Реализованы уровни логгирования:
* SERVER *1*
* DAEMON *2*
* MONITOR *4*

В конфиге **config.cfg** можно прописать нужный уровень маской, интересующих блоков логгирования.

## Структура

Архитектура сервера представляется тремя блоками: Server, Daemon, Monitor. Монитор отвечает за ход работы Daemon и Server, соответственно. Он отслеживает работу, обрабатывает и завершает сигналы, сохраняет значение своего процесса в **/var/run/web_server.pid**. Так же поддерживается обновление конфига через Monitor запущенного Daemon'a.

Поддерживается многопоточность. Daemon запускает ThreadWorkload и следит за выполнением самого сервера, при остановке завершает все потоки.
